<h1 id="removal7">removal(7)</h1>

<h2 id="cleaning-the-slate">Cleaning the Slate</h2>

<h3 id="synopsis">Synopsis</h3>

<p>So sad to see you go.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>npm uninstall npm <span class="nt">-g</span>
</code></pre></div></div>

<p>Or, if that fails, get the npm source code, and do:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>make uninstall
</code></pre></div></div>

<h3 id="more-severe-uninstalling">More Severe Uninstalling</h3>

<p>Usually, the above instructions are sufficient.  That will remove
npm, but leave behind anything you’ve installed.</p>

<p>If that doesn’t work, or if you require more drastic measures,
continue reading.</p>

<p>Note that this is only necessary for globally-installed packages.  Local
installs are completely contained within a project’s <code class="highlighter-rouge">node_modules</code>
folder.  Delete that folder, and everything is gone less a package’s
install script is particularly ill-behaved).</p>

<p>This assumes that you installed node and npm in the default place.  If
you configured node with a different <code class="highlighter-rouge">--prefix</code>, or installed npm with a
different prefix setting, then adjust the paths accordingly, replacing
<code class="highlighter-rouge">/usr/local</code> with your install prefix.</p>

<p>To remove everything npm-related manually:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm</span> <span class="nt">-rf</span> /usr/local/<span class="o">{</span>lib/node<span class="o">{</span>,/.npm,_modules<span class="o">}</span>,bin,share/man<span class="o">}</span>/npm<span class="k">*</span>
</code></pre></div></div>

<p>If you installed things <em>with</em> npm, then your best bet is to uninstall
them with npm first, and then install them again once you have a
proper install.  This can help find any symlinks that are lying
around:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> <span class="nt">-laF</span> /usr/local/<span class="o">{</span>lib/node<span class="o">{</span>,/.npm<span class="o">}</span>,bin,share/man<span class="o">}</span> | <span class="nb">grep </span>npm
</code></pre></div></div>

<p>Prior to version 0.3, npm used shim files for executables and node
modules.  To track those down, you can do the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /usr/local/<span class="o">{</span>lib/node,bin<span class="o">}</span> <span class="nt">-exec</span> <span class="nb">grep</span> <span class="nt">-l</span> npm <span class="se">\{\}</span> <span class="se">\;</span> <span class="p">;</span>
</code></pre></div></div>

<p>(This is also in the README file.)</p>

<h3 id="see-also">See also</h3>

<ul>
  <li><a href="/cli-commands/npm-uninstall">npm uninstall</a></li>
  <li><a href="/cli-commands/npm-prune">npm prune</a></li>
</ul>
