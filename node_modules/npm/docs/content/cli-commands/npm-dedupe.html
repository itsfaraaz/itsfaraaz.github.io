<h1 id="npm-dedupe1">npm-dedupe(1)</h1>

<h2 id="reduce-duplication">Reduce duplication</h2>

<h3 id="synopsis">Synopsis</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm dedupe
npm ddp

aliases: find-dupes, ddp
</code></pre></div></div>

<h3 id="description">Description</h3>

<p>Searches the local package tree and attempts to simplify the overall
structure by moving dependencies further up the tree, where they can
be more effectively shared by multiple dependent packages.</p>

<p>For example, consider this dependency graph:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a
+-- b &lt;<span class="nt">--</span> depends on c@1.0.x
|   <span class="sb">`</span><span class="nt">--</span> c@1.0.3
<span class="sb">`</span><span class="nt">--</span> d &lt;<span class="nt">--</span> depends on c@~1.0.9
    <span class="sb">`</span><span class="nt">--</span> c@1.0.10
</code></pre></div></div>

<p>In this case, <code class="highlighter-rouge">npm dedupe</code> will transform the tree to:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a
+-- b
+-- d
<span class="sb">`</span><span class="nt">--</span> c@1.0.10
</code></pre></div></div>

<p>Because of the hierarchical nature of nodeâ€™s module lookup, b and d
will both get their dependency met by the single c package at the root
level of the tree.</p>

<p>The deduplication algorithm walks the tree, moving each dependency as far
up in the tree as possible, even if duplicates are not found. This will
result in both a flat and deduplicated tree.</p>

<p>If a suitable version exists at the target location in the tree
already, then it will be left untouched, but the other duplicates will
be deleted.</p>

<p>Arguments are ignored. Dedupe always acts on the entire tree.</p>

<p>Modules</p>

<p>Note that this operation transforms the dependency tree, but will never
result in new modules being installed.</p>

<h3 id="see-also">See Also</h3>

<ul>
  <li><a href="/cli-commands/npm-ls">npm ls</a></li>
  <li><a href="/cli-commands/npm-update">npm update</a></li>
  <li><a href="/cli-commands/npm-install">npm install</a></li>
</ul>
