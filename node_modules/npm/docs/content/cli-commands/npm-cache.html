<h1 id="npm-cache1">npm-cache(1)</h1>

<h2 id="manipulates-packages-cache">Manipulates packages cache</h2>

<h3 id="synopsis">Synopsis</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm cache add &lt;tarball file&gt;
npm cache add &lt;folder&gt;
npm cache add &lt;tarball url&gt;
npm cache add &lt;name&gt;@&lt;version&gt;

npm cache clean <span class="o">[</span>&lt;path&gt;]
aliases: npm cache clear, npm cache <span class="nb">rm

</span>npm cache verify
</code></pre></div></div>

<h3 id="description">Description</h3>

<p>Used to add, list, or clean the npm cache folder.</p>

<ul>
  <li>
    <p>add:
Add the specified package to the local cache.  This command is primarily
intended to be used internally by npm, but it can provide a way to
add data to the local installation cache explicitly.</p>
  </li>
  <li>
    <p>clean:
Delete all data out of the cache folder.</p>
  </li>
  <li>
    <p>verify:
Verify the contents of the cache folder, garbage collecting any unneeded data,
and verifying the integrity of the cache index and all cached data.</p>
  </li>
</ul>

<h3 id="details">Details</h3>

<p>npm stores cache data in an opaque directory within the configured <code class="highlighter-rouge">cache</code>,
named <code class="highlighter-rouge">_cacache</code>. This directory is a <code class="highlighter-rouge">cacache</code>-based content-addressable cache
that stores all http request data as well as other package-related data. This
directory is primarily accessed through <code class="highlighter-rouge">pacote</code>, the library responsible for
all package fetching as of npm@5.</p>

<p>All data that passes through the cache is fully verified for integrity on both
insertion and extraction. Cache corruption will either trigger an error, or
signal to <code class="highlighter-rouge">pacote</code> that the data must be refetched, which it will do
automatically. For this reason, it should never be necessary to clear the cache
for any reason other than reclaiming disk space, thus why <code class="highlighter-rouge">clean</code> now requires
<code class="highlighter-rouge">--force</code> to run.</p>

<p>There is currently no method exposed through npm to inspect or directly manage
the contents of this cache. In order to access it, <code class="highlighter-rouge">cacache</code> must be used
directly.</p>

<p>npm will not remove data by itself: the cache will grow as new packages are
installed.</p>

<h3 id="a-note-about-the-caches-design">A note about the cacheâ€™s design</h3>

<p>The npm cache is strictly a cache: it should not be relied upon as a persistent
and reliable data store for package data. npm makes no guarantee that a
previously-cached piece of data will be available later, and will automatically
delete corrupted contents. The primary guarantee that the cache makes is that,
if it does return data, that data will be exactly the data that was inserted.</p>

<p>To run an offline verification of existing cache contents, use <code class="highlighter-rouge">npm cache
verify</code>.</p>

<h3 id="configuration">Configuration</h3>

<h4 id="cache">cache</h4>

<p>Default: <code class="highlighter-rouge">~/.npm</code> on Posix, or <code class="highlighter-rouge">%AppData%/npm-cache</code> on Windows.</p>

<p>The root cache folder.</p>

<h3 id="see-also">See Also</h3>

<ul>
  <li><a href="/configuring-npm/folders">npm folders</a></li>
  <li><a href="/cli-commands/npm-config">npm config</a></li>
  <li><a href="/configuring-npm/npmrc">npmrc</a></li>
  <li><a href="/cli-commands/npm-install">npm install</a></li>
  <li><a href="/cli-commands/npm-publish">npm publish</a></li>
  <li><a href="/cli-commands/npm-pack">npm pack</a></li>
  <li>https://npm.im/cacache</li>
  <li>https://npm.im/pacote</li>
</ul>
